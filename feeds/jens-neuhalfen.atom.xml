<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>baSSHtion</title><link href="http://www.basshtion.org/" rel="alternate"></link><link href="http://www.basshtion.org/feeds/jens-neuhalfen.atom.xml" rel="self"></link><id>http://www.basshtion.org/</id><updated>2014-08-24T23:15:00+02:00</updated><entry><title>DNAT</title><link href="http://www.basshtion.org/dnat.html" rel="alternate"></link><updated>2014-08-24T23:15:00+02:00</updated><author><name>Jens Neuhalfen</name></author><id>tag:www.basshtion.org,2014-08-23:dnat.html</id><summary type="html">&lt;p&gt;&lt;strong&gt;&lt;span class="caps"&gt;WORK&lt;/span&gt; &lt;span class="caps"&gt;IN&lt;/span&gt; &lt;span class="caps"&gt;PROGRESS&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h1&gt;Solutions in&amp;nbsp;detail&lt;/h1&gt;
&lt;p&gt;In the following sections the solution ideas from above are explained, and analysed. The discussed implementations are examples, and can be varied by a great&amp;nbsp;deal.&lt;/p&gt;
&lt;p&gt;An evaluation of each of the requirements stated is given, and summarized in the&amp;nbsp;result&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;fully&lt;/em&gt; fulfills the&amp;nbsp;requirement,&lt;/li&gt;
&lt;li&gt;&lt;em&gt;partially&lt;/em&gt; fulfills the&amp;nbsp;requirement&lt;/li&gt;
&lt;li&gt;&lt;em&gt;no&lt;/em&gt; or inadequate fulfillment of the&amp;nbsp;requirement&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Port &lt;span class="caps"&gt;DNAT&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;When using Port &lt;span class="caps"&gt;DNAT&lt;/span&gt; to access backend hosts, the backend hosts are partially exposed to the internet. The firewall will forward a port on its external interface to an ssh server running on a backend system. E.g. &lt;code&gt;public-ip:2224&lt;/code&gt; is forwarded to &lt;code&gt;db-server:22&lt;/code&gt;, and &lt;code&gt;public-ip:2223&lt;/code&gt; is forwarded to &lt;code&gt;app-server:22&lt;/code&gt;. &lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="http://www.basshtion.org/images/DNAT.png" /&gt;&lt;/p&gt;
&lt;p&gt;The operator points ssh to the public ip, e.g. &lt;code&gt;ssh public-ip -p2222&lt;/code&gt; to transparently ssh to &lt;code&gt;db-server&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;Example&amp;nbsp;implementation&lt;/h3&gt;
&lt;p&gt;Setting up &lt;span class="caps"&gt;NAT&lt;/span&gt; is straight forward and requires a single firewall change per host.  Users are only managed on the backend&amp;nbsp;systems.&lt;/p&gt;
&lt;h4&gt;Adding a new backend&amp;nbsp;host&lt;/h4&gt;
&lt;p&gt;If the firewall is a Linux host, then the following &lt;code&gt;iptables&lt;/code&gt; rules for the firewall sever implement the port &lt;span class="caps"&gt;DNAT&lt;/span&gt; from &lt;code&gt;public-ip:2224&lt;/code&gt; to &lt;code&gt;db-serv:22&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# run on the firewall&lt;/span&gt;

&lt;span class="nv"&gt;FIREWALL_EXTERNAL_IF&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;eth0
&lt;span class="nv"&gt;EXTERNAL_SRC_PORT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;2224
&lt;span class="nv"&gt;BACKEND_SERVER&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;hostname db-serv&lt;span class="k"&gt;)&lt;/span&gt;

iptables -t nat -I PREROUTING -i &lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;FIREWALL_EXTERNAL_IF&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt; -p tcp --dport &lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;EXTERNAL_SRC_PORT&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;  -m state --state NEW -j DNAT --to &lt;span class="k"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;BACKEND_SERVER&lt;/span&gt;&lt;span class="k"&gt;}&lt;/span&gt;:22
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Connecting to the database server from the internet is done by sshing to the specific&amp;nbsp;port: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# run on the operators system&lt;/span&gt;

ssh public-ip -p2224
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Adding a new&amp;nbsp;user&lt;/h4&gt;
&lt;p&gt;New users are only added to the backend&amp;nbsp;systems.&lt;/p&gt;
&lt;h3&gt;Evaluation&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Requirement&lt;/th&gt;
&lt;th&gt;requirement fulfilled&lt;/th&gt;
&lt;th&gt;comment&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 1: Bastion Host&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;partially&lt;/td&gt;
&lt;td&gt;The firewall reduces the attack surface of the backend systems to the ssh port.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 2: Auditable&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;Only &lt;span class="caps"&gt;SSH&lt;/span&gt; encrypted traffic passes through the firewall, preventing an audit of the content.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 3: Fine grained permissions&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;The firewall can only restrict communication to specific source/destination addresses.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 4: Robustness&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;fully&lt;/td&gt;
&lt;td&gt;Changes are limited to one system, making them very robust to carry out.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 5: Four eyes principle for usermanagement&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;Anybody who can manage users on a backend system can do so alone. Anyone who can administer the firewall can add/remove hosts.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 6: Port forwarding&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 7: scp&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;Conclusion&lt;/h3&gt;
&lt;h4&gt;Strengths&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Very simple to set&amp;nbsp;up&lt;/li&gt;
&lt;li&gt;Works well for smaller systems and when the requirements are less&amp;nbsp;strict&lt;/li&gt;
&lt;li&gt;All &lt;span class="caps"&gt;SSH&lt;/span&gt; sub-protocolls,  and tools work without any changes (&lt;code&gt;sftp&lt;/code&gt;, port-forwarding, &lt;code&gt;rsync&lt;/code&gt;,&amp;nbsp;&amp;#8230;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Weaknesses&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Many requirements not&amp;nbsp;fulfilled.&lt;/li&gt;
&lt;li&gt;All backend systems are directly exposed to the internet. This makes patching&amp;nbsp;harder.&lt;/li&gt;
&lt;li&gt;Might get complex, when many backend systems are installed and/or they frequently change (&lt;em&gt;Which port was server 4711 again?&lt;/em&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Final&amp;nbsp;words&lt;/h4&gt;
&lt;p&gt;A simple solution for small scale systems with modest requirements regarding&amp;nbsp;security.&lt;/p&gt;
&lt;h4&gt;Additional&amp;nbsp;Ressources&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.netfilter.org/"&gt;iptables&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://en.wikipedia.org/wiki/Network_address_translation"&gt;NATing&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><category term="about"></category><category term="overview"></category><category term="dnat"></category><category term="firewall"></category></entry><entry><title>JumpHost/interactive</title><link href="http://www.basshtion.org/jump_host_interactive.html" rel="alternate"></link><updated>2014-08-24T23:15:00+02:00</updated><author><name>Jens Neuhalfen</name></author><id>tag:www.basshtion.org,2014-08-23:jump_host_interactive.html</id><summary type="html">&lt;p&gt;&lt;strong&gt;&lt;span class="caps"&gt;WORK&lt;/span&gt; &lt;span class="caps"&gt;IN&lt;/span&gt; &lt;span class="caps"&gt;PROGRESS&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h1&gt;Solution in&amp;nbsp;detail&lt;/h1&gt;
&lt;p&gt;In the following sections the solution ideas from above are explained, and analysed. The discussed implementations are examples, and can be varied by a great&amp;nbsp;deal.&lt;/p&gt;
&lt;p&gt;An evaluation of each of the requirements stated is given, and summarized in the&amp;nbsp;result&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;fully&lt;/em&gt; fulfills the&amp;nbsp;requirement,&lt;/li&gt;
&lt;li&gt;&lt;em&gt;partially&lt;/em&gt; fulfills the&amp;nbsp;requirement&lt;/li&gt;
&lt;li&gt;&lt;em&gt;no&lt;/em&gt; or inadequate fulfillment of the&amp;nbsp;requirement&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Jump Host with interactive&amp;nbsp;session&lt;/h2&gt;
&lt;p&gt;&lt;img alt="" src="http://www.basshtion.org/images/JumpHost.png" /&gt;&lt;/p&gt;
&lt;h3&gt;Example&amp;nbsp;implementation&lt;/h3&gt;
&lt;h4&gt;Adding a new backend&amp;nbsp;host&lt;/h4&gt;
&lt;h4&gt;Adding a new&amp;nbsp;user&lt;/h4&gt;
&lt;h3&gt;Evaluation&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Requirement&lt;/th&gt;
&lt;th&gt;requirement fulfilled&lt;/th&gt;
&lt;th&gt;comment&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 1: Bastion Host&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;partially&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 2: Auditable&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 3: Fine grained permissions&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 4: Robustness&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 5: Four eyes principle for usermanagement&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 6: Port forwarding&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 7: scp&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;Conclusion&lt;/h3&gt;
&lt;h4&gt;Strengths&lt;/h4&gt;
&lt;h4&gt;Weaknesses&lt;/h4&gt;
&lt;h4&gt;Final&amp;nbsp;words&lt;/h4&gt;</summary><category term="about"></category><category term="overview"></category><category term="jumphost"></category><category term="interactive"></category></entry><entry><title>JumpHost/non-interactive</title><link href="http://www.basshtion.org/jump_host_non_interactive.html" rel="alternate"></link><updated>2014-08-24T23:15:00+02:00</updated><author><name>Jens Neuhalfen</name></author><id>tag:www.basshtion.org,2014-08-23:jump_host_non_interactive.html</id><summary type="html">&lt;p&gt;&lt;strong&gt;&lt;span class="caps"&gt;WORK&lt;/span&gt; &lt;span class="caps"&gt;IN&lt;/span&gt; &lt;span class="caps"&gt;PROGRESS&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h1&gt;Solution in&amp;nbsp;detail&lt;/h1&gt;
&lt;p&gt;In the following sections the solution ideas from above are explained, and analysed. The discussed implementations are examples, and can be varied by a great&amp;nbsp;deal.&lt;/p&gt;
&lt;p&gt;An evaluation of each of the requirements stated is given, and summarized in the&amp;nbsp;result&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;fully&lt;/em&gt; fulfills the&amp;nbsp;requirement,&lt;/li&gt;
&lt;li&gt;&lt;em&gt;partially&lt;/em&gt; fulfills the&amp;nbsp;requirement&lt;/li&gt;
&lt;li&gt;&lt;em&gt;no&lt;/em&gt; or inadequate fulfillment of the&amp;nbsp;requirement&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Jump Host without interactive&amp;nbsp;session&lt;/h2&gt;
&lt;p&gt;&lt;img alt="" src="http://www.basshtion.org/images/JumpHost-ForcedCommand.png" /&gt;&lt;/p&gt;
&lt;h3&gt;Example&amp;nbsp;implementation&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;ssh&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt; &lt;span class="n"&gt;public&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;ip&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;script -c &amp;#39;ssh db-server&amp;#39;&amp;quot;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;or, more&amp;nbsp;elaborate:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;ssh&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;A&lt;/span&gt; &lt;span class="mf"&gt;127.0.0.1&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;script -c &amp;#39;ssh db.server&amp;#39; --timing=/tmp/script.timing /tmp/script.log&amp;quot;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Replaying the recorded&amp;nbsp;session:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt; &lt;span class="n"&gt;scriptreplay&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;timing&lt;/span&gt;&lt;span class="o"&gt;=/&lt;/span&gt;&lt;span class="n"&gt;tmp&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;script&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timing&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tmp&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;script&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;log&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Adding a new backend&amp;nbsp;host&lt;/h4&gt;
&lt;h4&gt;Adding a new&amp;nbsp;user&lt;/h4&gt;
&lt;h3&gt;Evaluation&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Requirement&lt;/th&gt;
&lt;th&gt;requirement fulfilled&lt;/th&gt;
&lt;th&gt;comment&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 1: Bastion Host&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;partially&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 2: Auditable&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 3: Fine grained permissions&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 4: Robustness&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 5: Four eyes principle for usermanagement&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 6: Port forwarding&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 7: scp&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;h4&gt;Strengths&lt;/h4&gt;
&lt;h4&gt;Weaknesses&lt;/h4&gt;
&lt;h4&gt;Final&amp;nbsp;words&lt;/h4&gt;</summary><category term="about"></category><category term="overview"></category><category term="jumphost"></category><category term="interactive"></category></entry><entry><title>Others</title><link href="http://www.basshtion.org/others.html" rel="alternate"></link><updated>2014-08-24T23:15:00+02:00</updated><author><name>Jens Neuhalfen</name></author><id>tag:www.basshtion.org,2014-08-23:others.html</id><summary type="html">&lt;h2&gt;Other&amp;nbsp;Options&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;a PoC of a &lt;a href="https://github.com/baSSHtion/ssh-man-in-the-middle-attack"&gt;transparent proxy&lt;/a&gt; that implements a &lt;a href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack"&gt;Man in the Middle Attack&lt;/a&gt; on &lt;span class="caps"&gt;SSH&lt;/span&gt;&amp;nbsp;connections.&lt;/li&gt;
&lt;li&gt;a commercial solution called &lt;a href="https://www.balabit.com"&gt;BalaBit Shell Control Box&lt;/a&gt; that implements a pretty exthausive&amp;nbsp;solution.&lt;/li&gt;
&lt;/ul&gt;</summary><category term="others"></category></entry><entry><title>ProxyCommand</title><link href="http://www.basshtion.org/proxy_command.html" rel="alternate"></link><updated>2014-08-24T23:15:00+02:00</updated><author><name>Jens Neuhalfen</name></author><id>tag:www.basshtion.org,2014-08-23:proxy_command.html</id><summary type="html">&lt;p&gt;&lt;strong&gt;&lt;span class="caps"&gt;WORK&lt;/span&gt; &lt;span class="caps"&gt;IN&lt;/span&gt; &lt;span class="caps"&gt;PROGRESS&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h1&gt;Solution in&amp;nbsp;detail&lt;/h1&gt;
&lt;p&gt;In the following sections the solution ideas from above are explained, and analysed. The discussed implementations are examples, and can be varied by a great&amp;nbsp;deal.&lt;/p&gt;
&lt;p&gt;An evaluation of each of the requirements stated is given, and summarized in the&amp;nbsp;result&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;fully&lt;/em&gt; fulfills the&amp;nbsp;requirement,&lt;/li&gt;
&lt;li&gt;&lt;em&gt;partially&lt;/em&gt; fulfills the&amp;nbsp;requirement&lt;/li&gt;
&lt;li&gt;&lt;em&gt;no&lt;/em&gt; or inadequate fulfillment of the&amp;nbsp;requirement&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Via &lt;code&gt;ProxyCommand&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;An &lt;span class="caps"&gt;SSH&lt;/span&gt; &lt;code&gt;ProxyCommand&lt;/code&gt; is a configuration that tells the &lt;span class="caps"&gt;SSH&lt;/span&gt; client how to make the connection to the &lt;span class="caps"&gt;SSH&lt;/span&gt; server. When a proxy command is specified for a connection, then &lt;span class="caps"&gt;SSH&lt;/span&gt;
&lt;img alt="" src="http://www.basshtion.org/images/ProxyCommand.png" /&gt;&lt;/p&gt;
&lt;h3&gt;Example&amp;nbsp;implementation&lt;/h3&gt;
&lt;h4&gt;Adding a new backend&amp;nbsp;host&lt;/h4&gt;
&lt;h4&gt;Adding a new&amp;nbsp;user&lt;/h4&gt;
&lt;h3&gt;Evaluation&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Requirement&lt;/th&gt;
&lt;th&gt;requirement fulfilled&lt;/th&gt;
&lt;th&gt;comment&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 1: Bastion Host&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;partially&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 2: Auditable&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;no&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 3: Fine grained permissions&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 4: Robustness&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 5: Four eyes principle for usermanagement&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 6: Port forwarding&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;em&gt;&lt;span class="caps"&gt;REQ&lt;/span&gt; 7: scp&lt;/em&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;Conclusion&lt;/h3&gt;
&lt;h4&gt;Strengths&lt;/h4&gt;
&lt;h4&gt;Contra&lt;/h4&gt;
&lt;h4&gt;Final&amp;nbsp;words&lt;/h4&gt;</summary><category term="about"></category><category term="overview"></category><category term="ProxyCommand"></category></entry></feed>